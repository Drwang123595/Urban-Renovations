# 文件管理优化与独立评估模块计划

根据您的指示，评估模块将完全独立于 `main.py`，仅专注于“结果 vs 标签”的比对评分。

## 1. 改进一：优化文件输出管理 (修改 `src/data_processor.py`)
*   **目标**：自动归档处理结果。
*   **逻辑**：
    *   解析输入文件路径，提取文件名作为数据集名称（如 `test1`）。
    *   自动创建目录 `Data/output/test1/`。
    *   结果文件保存为 `Data/output/test1/{strategy}_{shot}_{timestamp}.xlsx`。
    *   这样不同数据集的结果物理隔离，便于管理。

## 2. 改进二：新增独立评估脚本 (`evaluate.py`)
*   **独立入口**：创建一个新的顶层脚本 `evaluate.py`，不干扰 `main.py` 的逻辑。
*   **交互流程**：
    1.  **选择模型输出文件**：列出 `Data/output/` 下的所有文件（递归查找），供用户选择。
    2.  **选择人工标签文件**：列出 `Data/` 下的原始文件，供用户选择作为 Ground Truth。
    3.  **指定列名映射**（可选或自动匹配）：
        *   模型列：`是否属于城市更新研究` vs 标签列：`Label_UrbanRenewal` (示例)
        *   模型列：`空间研究/非空间研究` vs 标签列：`Label_Spatial` (示例)
    4.  **执行比对**：
        *   通过 `Title` 字段对齐两份数据（确保只比对相同论文）。
        *   计算准确率（Accuracy）。
    5.  **输出结果**：在控制台打印分数，并生成评分报告 `Data/Result/Evaluation_{timestamp}.xlsx`。

## 3. 准备测试数据
*   创建 `Data/test_labeled.xlsx`，复制 `test1.xlsx` 的内容并添加人工标注列（模拟标准答案），以便您立即测试评估功能。

## 实施步骤
1.  **修改 `src/data_processor.py`**：实现分文件夹存储逻辑。
2.  **创建 `Data/test_labeled.xlsx`**：生成带标签的测试数据。
3.  **创建 `evaluate.py`**：实现独立的评估交互脚本。
